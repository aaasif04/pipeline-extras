#Section 1
#Provide the configuration management user with sudo access for Tableau
sudo_user: "{{ vault_tsm_sudo_user }}"
sudo_user_pass: "{{ vault_tsm_sudo_user_pass }}"

#Section 2
#Set tsm_activate_trial to True to activate two weeks trial, else set False
activate_trial: True
#If tsm_activate_trial set to False, then must supply the product key in vault
product_key: "{{ vault_product_key }}"

#Section 3
#Enter the following details in vault for tableau server registration
zip: "{{ vault_tsm_zip }}"
country: "{{ vault_tsm_country }}"
city: "{{ vault_tsm_city }}"
last_name: "{{ vault_tsm_last_name }}"
industry: "{{ vault_tsm_industry }}"
title: "{{ vault_tsm_title }}"
phone: "{{ vault_tsm_phone }}"
company_name: "{{ vault_tsm_company_name }}"
state: "{{ vault_tsm_state }}"
department: "{{ vault_tsm_department }}"
first_name: "{{ vault_tsm_first_name }}"
email: "{{ vault_tsm_email }}"

#Section 4
#Set the identity store here. values: Local, AD, LDAP, LDAP-GSSAPI
identity_store: LDAP 
#OpenLDAP variables. Must set if select identity store as LDAP
ldap_domain_name: "{{ vault_ldap_domain_name }}" #eg: prevalent.ai
ldap_root_dc: "{{ vault_ldap_root_dc }}" #Eg: dc=prevalent,dc=local
ldap_server_hostname: "{{ vault_ldap_server_hostname }}" #eg:18.210.253.127 Ldap server ip or hostname 
ldap_port: "{{ vault_ldap_port }}" #eg: 389
ldaps_port: "{{ vault_ldaps_port }}" #eg: 636
ldap_admin_username: "{{ vault_ldap_admin_username }}" #eg: ldpadmin
ldap_admin_password: "{{ vault_ldap_admin_password   }}" #eg: password created by slappasswd 
ldap_user_base_dn: "{{ vault_ldap_user_base_dn }}" #eg: ou=People,dc=prevalent,dc=local
ldap_group_base_dn: "{{ vault_ldap_group_base_dn }}" #eg: ou=Group,dc=prevalent,dc=local
ldap_truststore_pass: "{{ vault_ldap_truststore_pass }}"
ldaps_selfsigned_ssl_import: True
#Set to False, if not want to install sample workbooks in the tableau
sample_workbook_install: False

#Section 5
#Provide the intial admin username and password
#If LDAP or Active Directory is using as identity store, 
# username and password must be already created in Directory service and provide that username, password here
tableau_admin_user: "{{ vault_tsm_tableau_admin_user }}" 
tableau_admin_password: "{{ vault_tsm_tableau_admin_password }}"

#Section 6
#Set the total number of additional nodes (other than Initial node). Default 2 additional nodes + 1 initial node
total_additional_nodes: 2

#Section 7
tsm_trusted_hosts: ["10.30.3.4", "10.30.4.138", "cear-uat.prevalent.ai"]

#Section 8
#Set to True, if you want to overide default three node process allocation. Defult False
#If set to True, Please mention the processes and count in the non_default_processes list
overide_default_process_allocation: True

#Need to add all the process that want to add to the each node, if overide_default_process_allocation set to True
non_default_node_processes:
- node: node2
  tsm_process:
    - { tsm_process: "pgsql", count: "1" }
    - { tsm_process: "gateway", count: "1" }
    - { tsm_process: "vizqlserver", count: "0" }
    - { tsm_process: "vizportal", count: "2" }
    - { tsm_process: "backgrounder", count: "0" }
    - { tsm_process: "cacheserver", count: "2" }
    - { tsm_process: "searchserver", count: "1" }
    - { tsm_process: "dataserver", count: "0" }
    - { tsm_process: "filestore", count: "1" }
- node: node3
  tsm_process:
    - { tsm_process: "gateway", count: "1" }
    - { tsm_process: "vizqlserver", count: "0" }
    - { tsm_process: "vizportal", count: "2" }
    - { tsm_process: "backgrounder", count: "0" }
    - { tsm_process: "cacheserver", count: "2" }
    - { tsm_process: "searchserver", count: "1" }
    - { tsm_process: "dataserver", count: "0" }
    - { tsm_process: "filestore", count: "1" }

  